- job-group:
    name: 'pe-rbac-ui-legacy-pipeline'
    jobs:
        - '{value_stream}_{name}_init-merge_{qualifier}':
            qualifier: 'assets_{scm_branch}'
            dn-qualifier: 'Assets '
            git_included_regions: !!python/tuple
                - dev-resources/.*
            dn-sort-index: ' 00:'
            tpb_projects: '{value_stream}_{name}_unit-js_grunt-{scm_branch}'
        - '{value_stream}_{name}_unit-js_grunt-{scm_branch}':
            dn-sort-index: ' 01:'
            tpb_projects: '{value_stream}_{name}_packaging-js_grunt-{scm_branch}'
        - '{value_stream}_{name}_packaging-js_grunt-{scm_branch}':
            dn-sort-index: ' 05:'

        - '{value_stream}_{name}_init-merge_{qualifier}':
            qualifier: 'clj_{scm_branch}'
            dn-qualifier: 'Clojure '
            git_excluded_regions: !!python/tuple
                - dev-resources/.*
                - resources/rbac-ui/dist/.*
                - resources/auth-ui/dist/.*
            dn-sort-index: ' 10:'
            tpb_projects: '{value_stream}_{name}_unit-clj_{scm_branch}'
        - '{value_stream}_{name}_unit-clj_{scm_branch}':
            dn-sort-index: ' 15:'

- job-group:
    name: 'pe-classifier-ui-legacy-pipeline'
    meta_path_jobgroup: 'resources/pipelines/node-mgmt.yaml'
    jobs:
        - '{value_stream}_{name}_init-merge_{qualifier}':
            qualifier: 'assets_{scm_branch}'
            dn-qualifier: 'Assets '
            git_included_regions: !!python/tuple
                - dev-resources/.*
            dn-sort-index: ' 00:'
            tpb_projects: '{value_stream}_{name}_unit-js_grunt-{scm_branch}'

        - '{value_stream}_{name}_unit-js_grunt-{scm_branch}':
            dn-sort-index: ' 01:'
            tpb_projects: '{value_stream}_{name}_packaging-js_grunt-{scm_branch}'

        - '{value_stream}_{name}_packaging-js_grunt-{scm_branch}':
            dn-sort-index: ' 05:'

        - '{value_stream}_{name}_init-merge_{qualifier}':
            qualifier: 'clj_{scm_branch}'
            dn-qualifier: 'Clojure '
            git_excluded_regions: !!python/tuple
                - dev-resources/.*
                - resources/classifier-ui/dist/.*
            dn-sort-index: ' 10:'
            tpb_projects: '{value_stream}_{name}_unit-clj_postgres-integration_{scm_branch}'

        - '{value_stream}_{name}_unit-clj_postgres-integration_{qualifier}':
            dn-sort-index: ' 15:'
            tpb_projects: '{value_stream}_classifier_unit-jruby_{scm_branch}'
            pgdb_password: 'classifier919'
            pgdb_user: 'classifier'

- job-group:
    name: 'pe-ui-ember-cli-pipeline'
    jobs:
        - '{value_stream}_{name}_init-merge_{qualifier}':
            qualifier: 'assets_{scm_branch}'
            dn-qualifier: 'Assets '
            dn-sort-index: ' 00:'
            tpb_projects: '{value_stream}_{name}_unit-js_ember-cli_{scm_branch}'
        - '{value_stream}_{name}_unit-js_ember-cli_{scm_branch}':
            dn-sort-index: ' 01:'
            tpb_projects: '{obj:downstream_jobs}'
            tpb_git_revision: False

- job-group:
    name: 'pe-console-ui-composition-pipeline'
    jobs:
        - '{value_stream}_pe-console-ui_compose-console-{scm_branch}':
            dn-sort-index: ' 05:'

- job-group:
    name: 'pe-ui-mocha-unit-pipeline'
    jobs:
        - '{value_stream}_{name}_init-merge_{qualifier}':
            dn-sort-index: ' 00:'
            tpb_projects: '{value_stream}_{name}_unit-js_mocha_{scm_branch}'
        - '{value_stream}_{name}_unit-js_mocha_{scm_branch}':
            dn-sort-index: ' 01:'
